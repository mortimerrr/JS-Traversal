<!DOCTYPE html >
<html >
<head>
  <meta http-equiv="X-UA-Compatible" content="chrome=1" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <title>Hello World</title>
  <script type="text/javascript" src="x3dom.js"></script>
</head>

<body style="text-align: center">

 <h1>Hello 3D</h1>

 <x3d xmlns="http://www.x3dom.org/x3dom" showStat="false" showLog="false" x="0px" y="0px" width="800px" height="600px" altImg="helloX3D-alt.png">
  <scene>
    <viewpoint position='0 0 10' ></viewpoint>
    <scene id="scene" render="true" pickmode="idBuf" dopickpass="true" sorttrans="true" frustumculling="true">

    <!-- <shape render="true" ispickable="true" bboxcenter="0,0,0" bboxsize="-1,-1,-1">
           <appearance>
             <material diffuseColor='0.603 0.894 0.909' ></material>
           </appearance>
           <box def="box" solid="true" ccw="true" usegeocache="true" size="5,5,5">

           </box>
          </shape> --> 

      <!-- <shape render="true" ispickable="true" bboxcenter="0,0,0" bboxsize="-1,-1,-1">

        <appearance>
          <material diffuseColor='0.603 0.894 0.909' ></material>
        </appearance>
        <cone solid="true" ccw="true" usegeocache="true" bottomradius="1" height="2" bottom="true" subdivision="32" side="true">

        </cone>
      </shape> -->
    </scene>
  </x3d>

  <script type="text/javascript">

    function addShape(shape) {
      
      var typeOfShape;

      switch (shape) {
        case 'box':
          console.log('box');
          typeOfShape = document.createElement('box');
          break;
        case 'cone':
          console.log('cone');
          typeOfShape = document.createElement('cone');
          break;
        case 'sphere':
          console.log('sphere');
          typeOfShape = document.createElement('sphere');
          break;
      }

      console.log("addShape");
      var scene = document.getElementById('scene');
      var shape = document.createElement('shape');
      var appearance = document.createElement('appearance');
      var material = document.createElement('material');
      appearance.appendChild(material);
      shape.appendChild(appearance);
      shape.appendChild(typeOfShape);
      var randomNumber1 = Math.random() *5;
      var randomNumber2 = Math.random() *5;
      var randomNumber3 = Math.random() *5;
      var randomArray = [randomNumber1, randomNumber2, randomNumber3].join(',');
      console.log(randomArray);
      var transform = document.createElement('transform');
      transform.setAttribute('translation', randomArray);
      transform.appendChild(shape);
      scene.appendChild(transform);
      // transform.setAttribute('translation', '1,2,1');
    }
  </script>

  <button onclick="addShape('sphere')">Click Me!</button>
</body>
</html>
